
<!doctype html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><title>Python: module PyZ3950/ccl</title>
<style type="text/css"><!--
TT { font-family: lucidatypewriter, lucida console, courier }
--></style></head><body bgcolor="#f0f0f8">

<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="heading">
<tr bgcolor="#7799ee">
<td valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial">&nbsp;<br><big><big><strong>PyZ3950/ccl</strong></big></big></font></td
><td align=right valign=bottom
><font color="#ffffff" face="helvetica, arial"><a href=".">index</a><br><a href="file:/home/asl2/src/PyZ2/PyZ3950/PyZ3950/ccl.py">/home/asl2/src/PyZ2/PyZ3950/PyZ3950/ccl.py</a></font></td></tr></table>
    <p><tt>Implements&nbsp;part&nbsp;of&nbsp;CCL,&nbsp;the&nbsp;Common&nbsp;Command&nbsp;Language,&nbsp;ISO&nbsp;8777.&nbsp;&nbsp;I'm<br>
working&nbsp;from&nbsp;the&nbsp;description&nbsp;in&nbsp;the&nbsp;YAZ&nbsp;toolkit<br>
(<a href="http://www.indexdata.dk/yaz/doc/tools.php">http://www.indexdata.dk/yaz/doc/tools.php</a>),&nbsp;rather&nbsp;than&nbsp;the&nbsp;ISO<br>
spec.&nbsp;&nbsp;Two&nbsp;extensions:<br>
-&nbsp;qualifiers&nbsp;can&nbsp;be&nbsp;literal&nbsp;"(attrtyp,&nbsp;attrval)"&nbsp;pairs,&nbsp;so,&nbsp;e.g.,&nbsp;the<br>
following&nbsp;is&nbsp;a&nbsp;legitimate&nbsp;for&nbsp;ISBN:&nbsp;"(1,7)=0312033095"<br>
-&nbsp;the&nbsp;optional&nbsp;ATTRSET&nbsp;(attrset/query)&nbsp;which&nbsp;must&nbsp;appear&nbsp;at&nbsp;the&nbsp;beginning<br>
of&nbsp;the&nbsp;string.<br>
Allowed&nbsp;values&nbsp;are:<br>
BIB1&nbsp;(default)<br>
XD1<br>
UTIL<br>
ZTHES1<br>
EXP1<br>
or&nbsp;an&nbsp;oid&nbsp;expressed&nbsp;as&nbsp;a&nbsp;dotted&nbsp;string.&nbsp;&nbsp;(A&nbsp;leading&nbsp;dot&nbsp;implies&nbsp;a<br>
prefix&nbsp;of&nbsp;1.2.840.1003.3,&nbsp;so,&nbsp;e.g.,&nbsp;.1&nbsp;is&nbsp;the&nbsp;same&nbsp;as&nbsp;BIB1.)<br>
&nbsp;<br>
Eventually&nbsp;I&nbsp;will&nbsp;support&nbsp;v3-style&nbsp;mixing&nbsp;attribute&nbsp;sets&nbsp;within<br>
a&nbsp;single&nbsp;query,&nbsp;but&nbsp;for&nbsp;now&nbsp;I&nbsp;don't.</tt></p>

<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#aa55cc">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#fffff" face="helvetica, arial"><big><strong>Modules</strong></big></font></td></tr>
    
<tr><td bgcolor="#aa55cc"><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt></td><td>&nbsp;&nbsp;</td>
<td width="100%"><table width="100%" summary="list"><tr><td width="25%" valign=top><a href="asn1.html">PyZ3950.asn1</a><br>
<a href="lex.html">lex</a><br>
</td><td width="25%" valign=top><a href="oids.html">PyZ3950.oids</a><br>
<a href="string.html">string</a><br>
</td><td width="25%" valign=top><a href="yacc.html">yacc</a><br>
<a href="z3950.html">PyZ3950.z3950</a><br>
</td><td width="25%" valign=top></td></tr></table></td></tr></table>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#ee77aa">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial"><big><strong>Classes</strong></big></font></td></tr>
    
<tr><td bgcolor="#ee77aa"><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt></td><td>&nbsp;&nbsp;</td>
<td width="100%"><dl>
<dt><font face="helvetica, arial"><a href="exceptions.html#Exception">exceptions.Exception</a>
</font></dt><dd>
<dl>
<dt><font face="helvetica, arial"><a href="PyZ3950/ccl.html#QuerySyntaxError">QuerySyntaxError</a>
</font></dt><dd>
<dl>
<dt><font face="helvetica, arial"><a href="PyZ3950/ccl.html#LexError">LexError</a>
</font></dt><dt><font face="helvetica, arial"><a href="PyZ3950/ccl.html#ParseError">ParseError</a>
</font></dt><dt><font face="helvetica, arial"><a href="PyZ3950/ccl.html#UnimplError">UnimplError</a>
</font></dt></dl>
</dd>
</dl>
</dd>
<dt><font face="helvetica, arial"><a href="PyZ3950/ccl.html#Node">Node</a>
</font></dt><dt><font face="helvetica, arial"><a href="PyZ3950/ccl.html#QuallistVal">QuallistVal</a>
</font></dt></dl>
 
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#ffc8d8">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#000000" face="helvetica, arial"><a name="LexError">class <strong>LexError</strong></a>(<a href="PyZ3950/ccl.html#QuerySyntaxError">QuerySyntaxError</a>)</font></td></tr>
    
<tr bgcolor="#ffc8d8"><td rowspan=2><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt></td>
<td colspan=2>&nbsp;</td></tr>
<tr><td>&nbsp;&nbsp;</td>
<td width="100%"><dl><dt>Method resolution order:</dt>
<dd><a href="PyZ3950/ccl.html#LexError">LexError</a></dd>
<dd><a href="PyZ3950/ccl.html#QuerySyntaxError">QuerySyntaxError</a></dd>
<dd><a href="exceptions.html#Exception">exceptions.Exception</a></dd>
</dl>
<hr>
Data and non-method functions defined here:<br>
<dl><dt><strong>__doc__</strong> = None</dl>

<dl><dt><strong>__module__</strong> = 'PyZ3950/ccl'<dd><tt>str(object)&nbsp;-&gt;&nbsp;string<br>
&nbsp;<br>
Return&nbsp;a&nbsp;nice&nbsp;string&nbsp;representation&nbsp;of&nbsp;the&nbsp;object.<br>
If&nbsp;the&nbsp;argument&nbsp;is&nbsp;a&nbsp;string,&nbsp;the&nbsp;return&nbsp;value&nbsp;is&nbsp;the&nbsp;same&nbsp;object.</tt></dl>

<hr>
Methods inherited from <a href="exceptions.html#Exception">exceptions.Exception</a>:<br>
<dl><dt><a name="LexError-__getitem__"><strong>__getitem__</strong></a>(...)</dt></dl>

<dl><dt><a name="LexError-__init__"><strong>__init__</strong></a>(...)</dt></dl>

<dl><dt><a name="LexError-__str__"><strong>__str__</strong></a>(...)</dt></dl>

</td></tr></table> 
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#ffc8d8">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#000000" face="helvetica, arial"><a name="Node">class <strong>Node</strong></a></font></td></tr>
    
<tr bgcolor="#ffc8d8"><td rowspan=2><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt></td>
<td colspan=2>&nbsp;</td></tr>
<tr><td>&nbsp;&nbsp;</td>
<td width="100%">Methods defined here:<br>
<dl><dt><a name="Node-__init__"><strong>__init__</strong></a>(self, type, children<font color="#909090">=None</font>, leaf<font color="#909090">=None</font>)</dt></dl>

<dl><dt><a name="Node-__str__"><strong>__str__</strong></a>(self)</dt></dl>

<dl><dt><a name="Node-str_child"><strong>str_child</strong></a>(self, child, depth)</dt></dl>

<dl><dt><a name="Node-str_depth"><strong>str_depth</strong></a>(self, depth)</dt></dl>

<hr>
Data and non-method functions defined here:<br>
<dl><dt><strong>__doc__</strong> = None</dl>

<dl><dt><strong>__module__</strong> = 'PyZ3950/ccl'<dd><tt>str(object)&nbsp;-&gt;&nbsp;string<br>
&nbsp;<br>
Return&nbsp;a&nbsp;nice&nbsp;string&nbsp;representation&nbsp;of&nbsp;the&nbsp;object.<br>
If&nbsp;the&nbsp;argument&nbsp;is&nbsp;a&nbsp;string,&nbsp;the&nbsp;return&nbsp;value&nbsp;is&nbsp;the&nbsp;same&nbsp;object.</tt></dl>

</td></tr></table> 
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#ffc8d8">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#000000" face="helvetica, arial"><a name="ParseError">class <strong>ParseError</strong></a>(<a href="PyZ3950/ccl.html#QuerySyntaxError">QuerySyntaxError</a>)</font></td></tr>
    
<tr bgcolor="#ffc8d8"><td rowspan=2><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt></td>
<td colspan=2>&nbsp;</td></tr>
<tr><td>&nbsp;&nbsp;</td>
<td width="100%"><dl><dt>Method resolution order:</dt>
<dd><a href="PyZ3950/ccl.html#ParseError">ParseError</a></dd>
<dd><a href="PyZ3950/ccl.html#QuerySyntaxError">QuerySyntaxError</a></dd>
<dd><a href="exceptions.html#Exception">exceptions.Exception</a></dd>
</dl>
<hr>
Data and non-method functions defined here:<br>
<dl><dt><strong>__doc__</strong> = None</dl>

<dl><dt><strong>__module__</strong> = 'PyZ3950/ccl'<dd><tt>str(object)&nbsp;-&gt;&nbsp;string<br>
&nbsp;<br>
Return&nbsp;a&nbsp;nice&nbsp;string&nbsp;representation&nbsp;of&nbsp;the&nbsp;object.<br>
If&nbsp;the&nbsp;argument&nbsp;is&nbsp;a&nbsp;string,&nbsp;the&nbsp;return&nbsp;value&nbsp;is&nbsp;the&nbsp;same&nbsp;object.</tt></dl>

<hr>
Methods inherited from <a href="exceptions.html#Exception">exceptions.Exception</a>:<br>
<dl><dt><a name="ParseError-__getitem__"><strong>__getitem__</strong></a>(...)</dt></dl>

<dl><dt><a name="ParseError-__init__"><strong>__init__</strong></a>(...)</dt></dl>

<dl><dt><a name="ParseError-__str__"><strong>__str__</strong></a>(...)</dt></dl>

</td></tr></table> 
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#ffc8d8">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#000000" face="helvetica, arial"><a name="QuallistVal">class <strong>QuallistVal</strong></a></font></td></tr>
    
<tr bgcolor="#ffc8d8"><td rowspan=2><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt></td>
<td colspan=2>&nbsp;</td></tr>
<tr><td>&nbsp;&nbsp;</td>
<td width="100%">Methods defined here:<br>
<dl><dt><a name="QuallistVal-__getitem__"><strong>__getitem__</strong></a>(self, i)</dt></dl>

<dl><dt><a name="QuallistVal-__init__"><strong>__init__</strong></a>(self, quallist, val)</dt></dl>

<dl><dt><a name="QuallistVal-__str__"><strong>__str__</strong></a>(self)</dt></dl>

<hr>
Data and non-method functions defined here:<br>
<dl><dt><strong>__doc__</strong> = None</dl>

<dl><dt><strong>__module__</strong> = 'PyZ3950/ccl'<dd><tt>str(object)&nbsp;-&gt;&nbsp;string<br>
&nbsp;<br>
Return&nbsp;a&nbsp;nice&nbsp;string&nbsp;representation&nbsp;of&nbsp;the&nbsp;object.<br>
If&nbsp;the&nbsp;argument&nbsp;is&nbsp;a&nbsp;string,&nbsp;the&nbsp;return&nbsp;value&nbsp;is&nbsp;the&nbsp;same&nbsp;object.</tt></dl>

</td></tr></table> 
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#ffc8d8">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#000000" face="helvetica, arial"><a name="QuerySyntaxError">class <strong>QuerySyntaxError</strong></a>(<a href="exceptions.html#Exception">exceptions.Exception</a>)</font></td></tr>
    
<tr bgcolor="#ffc8d8"><td rowspan=2><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt></td>
<td colspan=2>&nbsp;</td></tr>
<tr><td>&nbsp;&nbsp;</td>
<td width="100%">Data and non-method functions defined here:<br>
<dl><dt><strong>__doc__</strong> = None</dl>

<dl><dt><strong>__module__</strong> = 'PyZ3950/ccl'<dd><tt>str(object)&nbsp;-&gt;&nbsp;string<br>
&nbsp;<br>
Return&nbsp;a&nbsp;nice&nbsp;string&nbsp;representation&nbsp;of&nbsp;the&nbsp;object.<br>
If&nbsp;the&nbsp;argument&nbsp;is&nbsp;a&nbsp;string,&nbsp;the&nbsp;return&nbsp;value&nbsp;is&nbsp;the&nbsp;same&nbsp;object.</tt></dl>

<hr>
Methods inherited from <a href="exceptions.html#Exception">exceptions.Exception</a>:<br>
<dl><dt><a name="QuerySyntaxError-__getitem__"><strong>__getitem__</strong></a>(...)</dt></dl>

<dl><dt><a name="QuerySyntaxError-__init__"><strong>__init__</strong></a>(...)</dt></dl>

<dl><dt><a name="QuerySyntaxError-__str__"><strong>__str__</strong></a>(...)</dt></dl>

</td></tr></table> 
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#ffc8d8">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#000000" face="helvetica, arial"><a name="UnimplError">class <strong>UnimplError</strong></a>(<a href="PyZ3950/ccl.html#QuerySyntaxError">QuerySyntaxError</a>)</font></td></tr>
    
<tr bgcolor="#ffc8d8"><td rowspan=2><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt></td>
<td colspan=2>&nbsp;</td></tr>
<tr><td>&nbsp;&nbsp;</td>
<td width="100%"><dl><dt>Method resolution order:</dt>
<dd><a href="PyZ3950/ccl.html#UnimplError">UnimplError</a></dd>
<dd><a href="PyZ3950/ccl.html#QuerySyntaxError">QuerySyntaxError</a></dd>
<dd><a href="exceptions.html#Exception">exceptions.Exception</a></dd>
</dl>
<hr>
Data and non-method functions defined here:<br>
<dl><dt><strong>__doc__</strong> = None</dl>

<dl><dt><strong>__module__</strong> = 'PyZ3950/ccl'<dd><tt>str(object)&nbsp;-&gt;&nbsp;string<br>
&nbsp;<br>
Return&nbsp;a&nbsp;nice&nbsp;string&nbsp;representation&nbsp;of&nbsp;the&nbsp;object.<br>
If&nbsp;the&nbsp;argument&nbsp;is&nbsp;a&nbsp;string,&nbsp;the&nbsp;return&nbsp;value&nbsp;is&nbsp;the&nbsp;same&nbsp;object.</tt></dl>

<hr>
Methods inherited from <a href="exceptions.html#Exception">exceptions.Exception</a>:<br>
<dl><dt><a name="UnimplError-__getitem__"><strong>__getitem__</strong></a>(...)</dt></dl>

<dl><dt><a name="UnimplError-__init__"><strong>__init__</strong></a>(...)</dt></dl>

<dl><dt><a name="UnimplError-__str__"><strong>__str__</strong></a>(...)</dt></dl>

</td></tr></table></td></tr></table>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#55aa55">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial"><big><strong>Data</strong></big></font></td></tr>
    
<tr><td bgcolor="#55aa55"><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt></td><td>&nbsp;&nbsp;</td>
<td width="100%"><strong>__file__</strong> = './PyZ3950/ccl.pyc'<br>
<strong>__name__</strong> = 'PyZ3950/ccl'<br>
<strong>_attrdict</strong> = {'bib1': OID: 1 2 840 10003 3 1, 'exp1': OID: 1 2 840 10003 3 2, 'utility': OID: 1 2 840 10003 3 11, 'xd1': OID: 1 2 840 10003 3 12, 'zthes1': OID: 1 2 840 10003 3 13}<br>
<strong>default_quals</strong> = ['ANY']<br>
<strong>default_relop</strong> = '='<br>
<strong>in_setup</strong> = 0<br>
<strong>lexer</strong> = &lt;lex.Lexer instance&gt;<br>
<strong>nested_scopes</strong> = _Feature((2, 1, 0, 'beta', 1), (2, 2, 0, 'alpha', 0), 16)<br>
<strong>precedence</strong> = (('left', 'LOGOP'),)<br>
<strong>qual_dict</strong> = {'AIF': (3, 3), 'ANY': (1, 1016), 'AU': (1, 1003), 'FIF': (3, 1), 'ISBN': (1, 7), 'LCCN': (1, 9), 'NOTRUNC': (5, 100), 'RTRUNC': (5, 1), 'TI': (1, 4)}<br>
<strong>r</strong> = '&gt;'<br>
<strong>relop_to_attrib</strong> = {'&lt;': 1, '&lt;=': 2, '&lt;&gt;': 6, '=': 3, '&gt;': 5, '&gt;=': 4}<br>
<strong>t_COMMA</strong> = ','<br>
<strong>t_LPAREN</strong> = r'\('<br>
<strong>t_RELOP</strong> = '(&gt;=)|(&lt;&gt;)|(&lt;=)|(=)|(&lt;)|(&gt;)'<br>
<strong>t_RPAREN</strong> = r'\)'<br>
<strong>t_SLASH</strong> = '/'<br>
<strong>t_WORD</strong> = r"([a-z]|[A-Z]|[0-9]|&amp;|:)([a-z]|[A-Z]|[0-9]|&amp;|:|,|\.|')*"<br>
<strong>t_ignore</strong> = ' <font color="#c040c0">\t</font>'<br>
<strong>tokens</strong> = ('LPAREN', 'RPAREN', 'COMMA', 'SET', 'ATTRSET', 'QUAL', 'QUOTEDVALUE', 'RELOP', 'WORD', 'LOGOP', 'SLASH')<br>
<strong>word_init</strong> = '[a-z]|[A-Z]|[0-9]|&amp;|:'<br>
<strong>word_non_init</strong> = r",|\.|'"</td></tr></table>
</body></html>